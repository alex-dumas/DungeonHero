{"ts":1373384527577,"silentsave":true,"restoring":false,"patch":[[]],"length":0}
{"contributors":[],"silentsave":true,"ts":1373385066251,"patch":[[{"diffs":[[1,"ig.module('game.entities.player')\n.requires('impact.entity')\n.defines(function() {\n \n    EntityPlayer = ig.Entity.extend({\n \n        size: { x: 16, y: 16 },\n        speed: 100,\n        animSheet: new ig.AnimationSheet('media/tilesheet.png', 16, 16),\n \n        moveIntention: null,\n        lastMove: null,\n        destination: null,\n \n        init: function(x, y, settings) {\n            this.parent(x, y, settings);\n \n            // Give the player the appearance that he has.\n            this.addAnim('default', 1, [0]);\n \n            // Set speed as the max velocity.\n            this.maxVel.x = this.maxVel.y = this.speed;\n        },\n \n        update: function() {\n \n            // It's important that this call occur before the movement code below,\n            // because otherwise you would sometimes see the entity move past his\n            // destination slightly just before snapping back into place.\n            this.parent();\n \n            // Set movement intention based on input.\n            this.moveIntention = null; // clear old move input\n            if(ig.input.state('right')) this.moveIntention = moveType.RIGHT;\n            else if(ig.input.state('left')) this.moveIntention = moveType.LEFT;\n            else if(ig.input.state('up')) this.moveIntention = moveType.UP;\n            else if(ig.input.state('down')) this.moveIntention = moveType.DOWN;\n \n            // Stop the moving entity if at the destination.\n            if(this.isMoving() && this.justReachedDestination() && !this.moveIntention) this.stopMoving();\n            // Stop the moving entity when it hits a wall.\n            else if(this.isMoving() && this.justReachedDestination() && this.moveIntention && !this.canMoveDirectionFromTile(this.destination.x, this.destination.y, this.moveIntention)) this.stopMoving();\n            // Destination reached, but set new destination and keep going.\n            else if(this.isMoving() && this.justReachedDestination() && this.moveIntention && this.canMoveDirectionFromTile(this.destination.x, this.destination.y, this.moveIntention) && this.moveIntention === this.lastMove) this.continueMovingFromDestination();\n            // Destination reached, but changing direction and continuing.\n            else if(this.isMoving() && this.justReachedDestination() && this.moveIntention && this.canMoveDirectionFromTile(this.destination.x, this.destination.y, this.moveIntention) && this.moveIntention !== this.lastMove) this.changeDirectionAndContinueMoving(this.moveIntention);\n            // Destination not yet reached, so keep going.\n            else if(this.isMoving() && !this.justReachedDestination()) { this.continueMovingToDestination(); }\n            // Not moving, but wanting to, so start!\n            else if(!this.isMoving() && this.moveIntention && this.canMoveDirectionFromCurrentTile(this.moveIntention)) this.startMoving(this.moveIntention);\n \n        },\n \n        getCurrentTile: function() {\n            var tilesize = ig.game.collisionMap.tilesize;\n            var tileX = this.pos.x / tilesize;\n            var tileY = this.pos.y / tilesize;\n            return { x: tileX, y: tileY };\n        },\n \n        getTileAdjacentToTile: function(tileX, tileY, direction) {\n            if(direction === moveType.UP) tileY += -1;\n            else if(direction === moveType.DOWN) tileY += 1;\n            else if(direction === moveType.LEFT) tileX += -1;\n            else if(direction === moveType.RIGHT) tileX += 1;\n            return { x: tileX, y: tileY };\n        },\n \n        startMoving: function(direction) {\n            // Get current tile position.\n            var currTile = this.getCurrentTile();\n            // Get new destination.\n            this.destination = this.getTileAdjacentToTile(currTile.x, currTile.y, direction);\n            // Move.\n            this.setVelocityByTile(this.destination.x, this.destination.y, this.speed);\n        },\n \n        continueMovingToDestination: function() {\n            // Move.\n            this.setVelocityByTile(this.destination.x, this.destination.y, this.speed);\n        },\n \n        continueMovingFromDestination: function() {\n            // Get new destination.\n            this.destination = this.getTileAdjacentToTile(this.destination.x, this.destination.y, this.lastMove);\n            // Move.\n            this.setVelocityByTile(this.destination.x, this.destination.y, this.speed);\n        },\n \n        changeDirectionAndContinueMoving: function(newDirection) {\n            // Method only called when at destination, so snap to it now.\n            this.snapToTile(this.destination.x, this.destination.y);\n            // Get new destination.\n            this.destination = this.getTileAdjacentToTile(this.destination.x, this.destination.y, newDirection);\n            // Move.\n            this.setVelocityByTile(this.destination.x, this.destination.y, this.speed);\n        },\n \n        stopMoving: function() {\n            // Method only called when at destination, so snap to it now.\n            this.snapToTile(this.destination.x, this.destination.y);\n            // We are already at the destination.\n            this.destination = null;\n            // Stop.\n            this.vel.x = this.vel.y = 0;\n        },\n \n        snapToTile: function(x, y) {\n            var tilesize = ig.game.collisionMap.tilesize;\n            this.pos.x = x * tilesize;\n            this.pos.y = y * tilesize;\n        },\n \n        justReachedDestination: function() {\n            var tilesize = ig.game.collisionMap.tilesize;\n            var destinationX = this.destination.x * tilesize;\n            var destinationY = this.destination.y * tilesize;\n            var result = (\n                (this.pos.x >= destinationX && this.last.x < destinationX) ||\n                (this.pos.x <= destinationX && this.last.x > destinationX) ||\n                (this.pos.y >= destinationY && this.last.y < destinationY) ||\n                (this.pos.y <= destinationY && this.last.y > destinationY)\n            );\n            return result;\n        },\n \n        isMoving: function() {\n            return this.destination !== null;\n        },\n \n        canMoveDirectionFromTile: function(tileX, tileY, direction) {\n            var newPos = this.getTileAdjacentToTile(tileX, tileY, direction);\n            return ig.game.collisionMap.data[newPos.y][newPos.x] === 0;\n        },\n \n        canMoveDirectionFromCurrentTile: function(direction) {\n            var currTile = this.getCurrentTile();\n            return this.canMoveDirectionFromTile(currTile.x, currTile.y, direction);\n        },\n \n        // Sets the velocity of the entity so that it will move toward the tile.\n        setVelocityByTile: function(tileX, tileY, velocity) {\n            var tilesize = ig.game.collisionMap.tilesize;\n            var tileCenterX = tileX * tilesize + tilesize/2;\n            var tileCenterY = tileY * tilesize + tilesize/2;\n            var entityCenterX = this.pos.x + this.size.x / 2;\n            var entityCenterY = this.pos.y + this.size.y / 2;\n            this.vel.x = this.vel.y = 0;\n            if(entityCenterX > tileCenterX) this.vel.x = -velocity;\n            else if(entityCenterX < tileCenterX) this.vel.x = velocity;\n            else if(entityCenterY > tileCenterY) this.vel.y = -velocity;\n            else if(entityCenterY < tileCenterY) this.vel.y = velocity;\n        }\n \n    });\n \n    var moveType = {\n        'UP': 1,\n        'DOWN': 2,\n        'LEFT': 4,\n        'RIGHT': 8\n    };\n \n});"]],"start1":0,"start2":0,"length1":0,"length2":7446}]],"length":7446,"saved":false}
{"ts":1373385068661,"patch":[[{"diffs":[[0,"player')"],[-1,"\n"],[0,".require"]],"start1":25,"start2":25,"length1":17,"length2":16},{"diffs":[[0,"entity')"],[-1,"\n"],[0,".defines"]],"start1":51,"start2":51,"length1":17,"length2":16},{"diffs":[[0,"unction() {\n"],[-1," "],[0,"\n    EntityP"]],"start1":69,"start2":69,"length1":25,"length2":24},{"diffs":[[0,"xtend({\n"],[-1," "],[0,"\n       "]],"start1":112,"start2":112,"length1":17,"length2":16},{"diffs":[[0,"e: {"],[-1," x: 16, y: 16"],[1,"\n            x: 16,\n            y: 16\n       "],[0," },\n"]],"start1":132,"start2":132,"length1":21,"length2":53},{"diffs":[[0,"6, 16),\n"],[-1," "],[0,""],[1,""],[0,"\n       "]],"start1":270,"start2":270,"length1":17,"length2":16},{"diffs":[[0,": null,\n"],[-1," "],[0,""],[1,""],[0,"\n       "]],"start1":351,"start2":351,"length1":17,"length2":16},{"diffs":[[0,"tings);\n"],[-1," "],[0,""],[1,""],[0,"\n       "]],"start1":434,"start2":434,"length1":17,"length2":16},{"diffs":[[0,", [0]);\n"],[-1," "],[0,""],[1,""],[0,"\n       "]],"start1":539,"start2":539,"length1":17,"length2":16},{"diffs":[[0,"eed;\n        },\n"],[-1," "],[0,""],[1,""],[0,"\n        update:"]],"start1":645,"start2":645,"length1":33,"length2":32},{"diffs":[[0,"ion() {\n"],[-1," "],[0,""],[1,""],[0,"\n       "]],"start1":683,"start2":683,"length1":17,"length2":16},{"diffs":[[0,"rent();\n"],[-1," "],[0,""],[1,""],[0,"\n       "]],"start1":950,"start2":950,"length1":17,"length2":16},{"diffs":[[0,"      if"],[1," "],[0,"(ig.inpu"]],"start1":1082,"start2":1082,"length1":16,"length2":17},{"diffs":[[0,"         else if"],[1," "],[0,"(ig.input.state("]],"start1":1157,"start2":1157,"length1":32,"length2":33},{"diffs":[[0,"         else if"],[1," "],[0,"(ig.input.state("]],"start1":1238,"start2":1238,"length1":32,"length2":33},{"diffs":[[0," else if"],[1," "],[0,"(ig.inpu"]],"start1":1323,"start2":1323,"length1":16,"length2":17},{"diffs":[[0,"e.DOWN;\n"],[-1," "],[0,"\n       "]],"start1":1385,"start2":1385,"length1":17,"length2":16},{"diffs":[[0,"      if"],[1," "],[0,"(this.is"]],"start1":1461,"start2":1461,"length1":16,"length2":17},{"diffs":[[0,"         else if"],[1," "],[0,"(this.isMoving()"]],"start1":1625,"start2":1625,"length1":32,"length2":33},{"diffs":[[0,"         else if"],[1," "],[0,"(this.isMoving()"]],"start1":1907,"start2":1907,"length1":32,"length2":33},{"diffs":[[0,"         else if"],[1," "],[0,"(this.isMoving()"]],"start1":2246,"start2":2246,"length1":32,"length2":33},{"diffs":[[0," else if"],[1," "],[0,"(this.is"]],"start1":2598,"start2":2598,"length1":16,"length2":17},{"diffs":[[0,"ion()) {"],[1,"\n               "],[0," this.co"]],"start1":2652,"start2":2652,"length1":16,"length2":32},{"diffs":[[0,"ation();"],[1,"\n           "],[0," }\n     "]],"start1":2704,"start2":2704,"length1":16,"length2":28},{"diffs":[[0," else if"],[1," "],[0,"(!this.i"]],"start1":2791,"start2":2791,"length1":16,"length2":17},{"diffs":[[0,"ntion);\n"],[-1," "],[0,"\n       "]],"start1":2931,"start2":2931,"length1":17,"length2":16},{"diffs":[[0,"n);\n\n        },\n"],[-1," "],[0,""],[1,""],[0,"\n        getCurr"]],"start1":2935,"start2":2935,"length1":33,"length2":32},{"diffs":[[0,"return {"],[-1," x: tileX, y: tileY"],[1,"\n                x: tileX,\n                y: tileY\n           "],[0," };\n    "]],"start1":3153,"start2":3153,"length1":35,"length2":79},{"diffs":[[0,"  };\n        },\n"],[-1," "],[0,""],[1,""],[0,"\n        getTile"]],"start1":3223,"start2":3223,"length1":33,"length2":32},{"diffs":[[0,"      if"],[1," "],[0,"(directi"]],"start1":3313,"start2":3313,"length1":16,"length2":17},{"diffs":[[0,"         else if"],[1," "],[0,"(direction === m"]],"start1":3366,"start2":3366,"length1":32,"length2":33},{"diffs":[[0,"         else if"],[1," "],[0,"(direction === m"]],"start1":3428,"start2":3428,"length1":32,"length2":33},{"diffs":[[0," else if"],[1," "],[0,"(directi"]],"start1":3499,"start2":3499,"length1":16,"length2":17},{"diffs":[[0,"rn {"],[-1," x: tileX, y: tileY"],[1,"\n                x: tileX,\n                y: tileY\n           "],[0," };\n"]],"start1":3567,"start2":3567,"length1":27,"length2":71},{"diffs":[[0,"  };\n        },\n"],[-1," "],[0,""],[1,""],[0,"\n        startMo"]],"start1":3633,"start2":3633,"length1":33,"length2":32},{"diffs":[[0,"ed);\n        },\n"],[-1," "],[0,""],[1,""],[0,"\n        continu"]],"start1":4019,"start2":4019,"length1":33,"length2":32},{"diffs":[[0,"ed);\n        },\n"],[-1," "],[0,""],[1,""],[0,"\n        continu"]],"start1":4190,"start2":4190,"length1":33,"length2":32},{"diffs":[[0,"ed);\n        },\n"],[-1," "],[0,""],[1,""],[0,"\n        changeD"]],"start1":4513,"start2":4513,"length1":33,"length2":32},{"diffs":[[0,"ed);\n        },\n"],[-1," "],[0,""],[1,""],[0,"\n        stopMov"]],"start1":4993,"start2":4993,"length1":33,"length2":32},{"diffs":[[0,"= 0;\n        },\n"],[-1," "],[0,""],[1,""],[0,"\n        snapToT"]],"start1":5330,"start2":5330,"length1":33,"length2":32},{"diffs":[[0,"ize;\n        },\n"],[-1," "],[0,""],[1,""],[0,"\n        justRea"]],"start1":5515,"start2":5515,"length1":33,"length2":32},{"diffs":[[0,"= (\n            "],[-1,"    "],[0,"(this.pos.x >= d"]],"start1":5782,"start2":5782,"length1":36,"length2":32},{"diffs":[[0,"ionX) ||"],[-1,"\n               "],[0," (this.p"]],"start1":5851,"start2":5851,"length1":32,"length2":16},{"diffs":[[0,"ionX) ||"],[-1,"\n               "],[0," (this.p"]],"start1":5913,"start2":5913,"length1":32,"length2":16},{"diffs":[[0,"ionY) ||"],[-1,"\n               "],[0," (this.p"]],"start1":5975,"start2":5975,"length1":32,"length2":16},{"diffs":[[0,"nationY)"],[-1,"\n            "],[0,");\n     "]],"start1":6034,"start2":6034,"length1":29,"length2":16},{"diffs":[[0,"ult;\n        },\n"],[-1," "],[0,""],[1,""],[0,"\n        isMovin"]],"start1":6067,"start2":6067,"length1":33,"length2":32},{"diffs":[[0,"ull;\n        },\n"],[-1," "],[0,""],[1,""],[0,"\n        canMove"]],"start1":6156,"start2":6156,"length1":33,"length2":32},{"diffs":[[0,"= 0;\n        },\n"],[-1," "],[0,""],[1,""],[0,"\n        canMove"]],"start1":6388,"start2":6388,"length1":33,"length2":32},{"diffs":[[0,"     },\n"],[-1," "],[0,""],[1,""],[0,"\n       "]],"start1":6606,"start2":6606,"length1":17,"length2":16},{"diffs":[[0,"esize + tilesize"],[-1,"/"],[1," / "],[0,"2;\n            v"]],"start1":6857,"start2":6857,"length1":33,"length2":35},{"diffs":[[0,"tilesize"],[-1,"/"],[1," / "],[0,"2;\n     "]],"start1":6928,"start2":6928,"length1":17,"length2":19},{"diffs":[[0,"      if"],[1," "],[0,"(entityC"]],"start1":7113,"start2":7113,"length1":16,"length2":17},{"diffs":[[0,"         else if"],[1," "],[0,"(entityCenterX <"]],"start1":7179,"start2":7179,"length1":32,"length2":33},{"diffs":[[0,"         else if"],[1," "],[0,"(entityCenterY >"]],"start1":7252,"start2":7252,"length1":32,"length2":33},{"diffs":[[0," else if"],[1," "],[0,"(entityC"]],"start1":7334,"start2":7334,"length1":16,"length2":17},{"diffs":[[0,"      }\n"],[-1," "],[0,""],[1,""],[0,"\n    });"]],"start1":7398,"start2":7398,"length1":17,"length2":16},{"diffs":[[0,"    });\n"],[-1," "],[0,""],[1,""],[0,"\n    var"]],"start1":7407,"start2":7407,"length1":17,"length2":16},{"diffs":[[0,"\n    };\n"],[-1," "],[0,"\n});"]],"start1":7510,"start2":7510,"length1":13,"length2":12}]],"length":7522,"saved":false}
{"ts":1373385177430,"patch":[[{"diffs":[[0,"t', 1, ["],[-1,"0"],[1,"65"],[0,"]);\n\n   "]],"start1":534,"start2":534,"length1":17,"length2":18}]],"length":7523,"saved":false}
{"ts":1373385183437,"patch":[[{"diffs":[[0,"tile"],[-1,"sheet"],[0,".png"]],"start1":253,"start2":253,"length1":13,"length2":8}]],"length":7518,"saved":false}
{"ts":1373385185133,"patch":[[{"diffs":[[0,"dia/tile"],[1,"setd"],[0,".png', 1"]],"start1":249,"start2":249,"length1":16,"length2":20}]],"length":7522,"saved":false}
{"ts":1373385190036,"patch":[[{"diffs":[[0,"d.png', "],[-1,"16"],[1,"32"],[0,", 16),\n\n"]],"start1":260,"start2":260,"length1":18,"length2":18}]],"length":7522,"saved":false}
{"ts":1373385192855,"patch":[[{"diffs":[[0,"g', 32, "],[-1,"16"],[1,"32"],[0,"),\n\n    "]],"start1":264,"start2":264,"length1":18,"length2":18}]],"length":7522,"saved":false}
{"ts":1373385227597,"patch":[[{"diffs":[[0,"     x: "],[-1,"16"],[1,"32"],[0,",\n      "]],"start1":144,"start2":144,"length1":18,"length2":18},{"diffs":[[0," y: "],[-1,"16"],[1,"3"],[0,"\n   "]],"start1":167,"start2":167,"length1":10,"length2":9}]],"length":7521,"saved":false}
{"ts":1373385229032,"patch":[[{"diffs":[[0,"    y: 3"],[1,"2"],[0,"\n       "]],"start1":164,"start2":164,"length1":16,"length2":17}]],"length":7522,"saved":false}
{"ts":1373385268581,"patch":[[{"diffs":[[0,"1, ["],[-1,"65"],[1,"84"],[0,"]);\n"]],"start1":537,"start2":537,"length1":10,"length2":10}]],"length":7522,"saved":false}
{"ts":1373387334938,"patch":[[{"diffs":[[0," [84]);\n"],[1,"            this.light = ig.game.lightManager.addLight(this, {\n    \t\tangle: 5,\t\n\t\t\tangleSpread: 125,\t\n\t\t\tradius: 80,\t\t\t\n\t\t\tcolor:'rgba(255,255,255,0.1)',\t// there is an extra shadowColor option\n\t\t\tuseGradients: true,\t// false will use color/ shadowColor\n\t\t\tshadowGradientStart: 'rgba(0,0,0,0.1)',\t\t\t// 2-stop radial gradient at 0.0 and 1.0\n\t\t\tshadowGradientStop: 'rgba(0,0,0,0.1)',\n\t\t\tlightGradientStart: 'rgba(255,255,100,0.1)',\t// 2-stop radial gradient at 0.0 and 1.0\n\t\t\tlightGradientStop: 'rgba(0,0,0,0.6)',\n\t\t\tpulseFactor: 5,\n\t\t\tlightOffset: {x:0,y:0}\t\t// lightsource offset from the middle of the entity\n\t\t});"],[0,"\n       "]],"start1":539,"start2":539,"length1":16,"length2":631}]],"length":8137,"saved":false}
{"ts":1373387342313,"patch":[[{"diffs":[[0,"    "],[-1,"\t\tangle: 5,\t\n\t\t\tangleSpread: 125,\t\n\t\t\tradius: 80,\t\t\t\n\t\t\t"],[1,"            angle: 5,\n                angleSpread: 125,\n                radius: 80,\n                "],[0,"color:"],[1," "],[0,"'rgb"]],"start1":610,"start2":610,"length1":70,"length2":115},{"diffs":[[0,"5,0.1)',"],[-1,"\t"],[1," "],[0,"// there"]],"start1":737,"start2":737,"length1":17,"length2":17},{"diffs":[[0," option\n"],[-1,"\t\t\t"],[1,"                "],[0,"useGradi"]],"start1":778,"start2":778,"length1":19,"length2":32},{"diffs":[[0,"s: true,"],[-1,"\t"],[1," "],[0,"// false"]],"start1":813,"start2":813,"length1":17,"length2":17},{"diffs":[[0,"owColor\n"],[-1,"\t\t\t"],[1,"                "],[0,"shadowGr"]],"start1":851,"start2":851,"length1":19,"length2":32},{"diffs":[[0,"0,0.1)',"],[-1,"\t\t\t"],[1," "],[0,"// 2-sto"]],"start1":906,"start2":906,"length1":19,"length2":17},{"diffs":[[0,"and 1.0\n"],[-1,"\t\t\t"],[1,"                "],[0,"shadowGr"]],"start1":948,"start2":948,"length1":19,"length2":32},{"diffs":[[0,",0.1)',\n"],[-1,"\t\t\t"],[1,"                "],[0,"lightGra"]],"start1":1003,"start2":1003,"length1":19,"length2":32},{"diffs":[[0,"0,0.1)',"],[-1,"\t"],[1," "],[0,"// 2-sto"]],"start1":1063,"start2":1063,"length1":17,"length2":17},{"diffs":[[0,"and 1.0\n"],[-1,"\t\t\t"],[1,"                "],[0,"lightGra"]],"start1":1105,"start2":1105,"length1":19,"length2":32},{"diffs":[[0,")',\n"],[-1,"\t\t\tpulseFactor: 5,\n\t\t\tlightOffset: {"],[1,"                pulseFactor: 5,\n                lightOffset: {\n                    "],[0,"x:"],[1," "],[0,"0,"],[-1,"y:0}\t\t"],[1,"\n                    y: 0\n                } "],[0,"// l"]],"start1":1163,"start2":1163,"length1":54,"length2":140},{"diffs":[[0,"ity\n"],[-1,"\t\t"],[1,"            "],[0,"});\n"]],"start1":1347,"start2":1347,"length1":10,"length2":20}]],"length":8341,"saved":false}
{"ts":1373387347706,"patch":[[{"diffs":[[0,"ad: "],[-1,"125"],[1,"380"],[0,",\n  "]],"start1":661,"start2":661,"length1":11,"length2":11}]],"length":8341,"saved":false}
{"ts":1373389324094,"patch":[[{"diffs":[[0,": null,\n"],[1,"        he"],[0,"\n       "]],"start1":350,"start2":350,"length1":16,"length2":26}]],"length":8351,"saved":false}
{"ts":1373389325226,"patch":[[{"diffs":[[0,"      he"],[1,"a"],[0,"\n       "]],"start1":360,"start2":360,"length1":16,"length2":17}]],"length":8352,"saved":false}
{"ts":1373389327397,"patch":[[{"diffs":[[0,"     hea"],[1,"lth: "],[0,"\n       "]],"start1":361,"start2":361,"length1":16,"length2":21}]],"length":8357,"saved":false}
{"ts":1373389329278,"patch":[[{"diffs":[[0,"health: "],[1,"200,"],[0,"\n       "]],"start1":366,"start2":366,"length1":16,"length2":20}]],"length":8361,"saved":false}
{"ts":1373390237585,"patch":[[{"diffs":[[0," [84]);\n"],[1,"             !ig.global.wm\n"],[0,"        "]],"start1":559,"start2":559,"length1":16,"length2":43}]],"length":8388,"saved":false}
{"ts":1373390241961,"patch":[[{"diffs":[[0,"        "],[-1," "],[1,"if"],[0,"!ig.glob"]],"start1":571,"start2":571,"length1":17,"length2":18}]],"length":8389,"saved":false}
{"ts":1373390243409,"patch":[[{"diffs":[[0,"      if"],[1,"("],[0,"!ig.glob"]],"start1":573,"start2":573,"length1":16,"length2":17}]],"length":8390,"saved":false}
{"ts":1373390245197,"patch":[[{"diffs":[[0,"lobal.wm"],[1,"){"],[0,"\n       "]],"start1":587,"start2":587,"length1":16,"length2":18}]],"length":8392,"saved":false}
{"ts":1373390248179,"patch":[[{"diffs":[[0,"    });\n"],[1,"            }\n"],[0,"        "]],"start1":1410,"start2":1410,"length1":16,"length2":30}]],"length":8406,"saved":false}
{"ts":1373390252929,"patch":[[{"diffs":[[0,"            "],[1,"    "],[0,"this.light ="]],"start1":598,"start2":598,"length1":24,"length2":28},{"diffs":[[0,"            "],[1,"    "],[0,"angle: 5,\n  "]],"start1":669,"start2":669,"length1":24,"length2":28},{"diffs":[[0,"  angle: 5,\n"],[1,"    "],[0,"            "]],"start1":683,"start2":683,"length1":24,"length2":28},{"diffs":[[0,"pread: 380,\n"],[1,"    "],[0,"            "]],"start1":721,"start2":721,"length1":24,"length2":28},{"diffs":[[0,"        "],[1,"    "],[0,"color: '"]],"start1":773,"start2":773,"length1":16,"length2":20},{"diffs":[[0," option\n"],[1,"    "],[0,"        "]],"start1":849,"start2":849,"length1":16,"length2":20},{"diffs":[[0,"                "],[1,"    "],[0,"shadowGradientSt"]],"start1":934,"start2":934,"length1":32,"length2":36},{"diffs":[[0," at 0.0 and 1.0\n"],[1,"    "],[0,"                "]],"start1":1019,"start2":1019,"length1":32,"length2":36},{"diffs":[[0,"                "],[1,"    "],[0,"lightGradientSta"]],"start1":1094,"start2":1094,"length1":32,"length2":36},{"diffs":[[0,"                "],[1,"    "],[0,"lightGradientSto"]],"start1":1200,"start2":1200,"length1":32,"length2":36},{"diffs":[[0,"        "],[1,"    "],[0,"pulseFac"]],"start1":1266,"start2":1266,"length1":16,"length2":20},{"diffs":[[0,"eFactor: 5,\n"],[1,"    "],[0,"            "]],"start1":1282,"start2":1282,"length1":24,"length2":28},{"diffs":[[0,"        "],[1,"    "],[0,"x: 0,\n  "]],"start1":1341,"start2":1341,"length1":16,"length2":20},{"diffs":[[0,"    "],[1,"    "],[0,"y: 0\n"],[1,"    "],[0,"    "]],"start1":1375,"start2":1375,"length1":13,"length2":21},{"diffs":[[0," entity\n"],[1,"    "],[0,"        "]],"start1":1454,"start2":1454,"length1":16,"length2":20}]],"length":8470,"saved":false}
{"ts":1373390498786,"patch":[[{"diffs":[[0,"2, 32),\n"],[1,"        typ"],[0,"\n       "]],"start1":269,"start2":269,"length1":16,"length2":27}]],"length":8481,"saved":false}
{"ts":1373390500327,"patch":[[{"diffs":[[0,"     typ"],[1,"e: "],[0,"\n       "]],"start1":280,"start2":280,"length1":16,"length2":19}]],"length":8484,"saved":false}
{"ts":1373390501297,"patch":[[{"diffs":[[0,"  type: "],[1,"I"],[0,"\n       "]],"start1":283,"start2":283,"length1":16,"length2":17}]],"length":8485,"saved":false}
{"ts":1373390502202,"patch":[[{"diffs":[[0,"  type: "],[-1,"I"],[0,"\n       "]],"start1":283,"start2":283,"length1":17,"length2":16}]],"length":8484,"saved":false}
{"ts":1373390505168,"patch":[[{"diffs":[[0,"  type: "],[1,"ig.Entity."],[0,"\n       "]],"start1":283,"start2":283,"length1":16,"length2":26}]],"length":8494,"saved":false}
{"ts":1373390505925,"patch":[[{"diffs":[[0,": ig.Entity."],[1,"TY"],[0,"\n        mov"]],"start1":289,"start2":289,"length1":24,"length2":26}]],"length":8496,"saved":false}
{"ts":1373390508395,"patch":[[{"diffs":[[0,"ntity.TY"],[1,"PE.A,"],[0,"\n       "]],"start1":295,"start2":295,"length1":16,"length2":21}]],"length":8501,"saved":false}
{"ts":1373391086992,"patch":[[{"diffs":[[0,".TYPE.A,"],[1,"32x c"],[0,"\n       "]],"start1":300,"start2":300,"length1":16,"length2":21}]],"length":8506,"saved":false}
{"ts":1373391090644,"patch":[[{"diffs":[[0,"E.A,"],[-1,"32x c"],[0,"\n   "]],"start1":304,"start2":304,"length1":13,"length2":8}]],"length":8501,"saved":false}
{"ts":1373391127705,"patch":[[{"diffs":[[0,"lastMove: null,\n"],[1,"        d\n"],[0,"        destinat"]],"start1":346,"start2":346,"length1":32,"length2":42}]],"length":8511,"saved":false}
{"ts":1373391129364,"patch":[[{"diffs":[[0,"       d"],[1,"efnc"],[0,"\n       "]],"start1":363,"start2":363,"length1":16,"length2":20}]],"length":8515,"saved":false}
{"ts":1373391130464,"patch":[[{"diffs":[[0,"   defnc"],[1,"e"],[0,"\n       "]],"start1":367,"start2":367,"length1":16,"length2":17}]],"length":8516,"saved":false}
{"ts":1373391134214,"patch":[[{"diffs":[[0,"     def"],[1,"e"],[0,"nce\n    "]],"start1":365,"start2":365,"length1":16,"length2":17}]],"length":8517,"saved":false}
{"ts":1373391143499,"patch":[[{"diffs":[[0," defence"],[1,": 2,\n        a"],[0,"\n       "]],"start1":369,"start2":369,"length1":16,"length2":30}]],"length":8531,"saved":false}
{"ts":1373391145028,"patch":[[{"diffs":[[0,"       a"],[1,"tta"],[0,"\n       "]],"start1":383,"start2":383,"length1":16,"length2":19}]],"length":8534,"saved":false}
{"ts":1373391146922,"patch":[[{"diffs":[[0,"    atta"],[1,"ck:"],[0,"\n       "]],"start1":386,"start2":386,"length1":16,"length2":19}]],"length":8537,"saved":false}
{"ts":1373391147982,"patch":[[{"diffs":[[0," attack:"],[1,"2"],[0,"\n       "]],"start1":389,"start2":389,"length1":16,"length2":17}]],"length":8538,"saved":false}
{"ts":1373391149272,"patch":[[{"diffs":[[0,"attack:2"],[1,","],[0,"\n       "]],"start1":390,"start2":390,"length1":16,"length2":17}]],"length":8539,"saved":false}
{"ts":1373391262784,"patch":[[{"diffs":[[0,".module("],[1,"\n    "],[0,"'game.en"]],"start1":2,"start2":2,"length1":16,"length2":21}]],"length":8544,"saved":false}
{"ts":1373391265319,"patch":[[{"diffs":[[0,".player'"],[1,"\n    "],[0,").requir"]],"start1":29,"start2":29,"length1":16,"length2":21}]],"length":8549,"saved":false}
{"ts":1373391266998,"patch":[[{"diffs":[[0,"player'\n"],[-1,"    "],[0,").requir"]],"start1":30,"start2":30,"length1":20,"length2":16}]],"length":8545,"saved":false}
{"ts":1373391269450,"patch":[[{"diffs":[[0,"layer'\n)"],[1,"\n"],[0,".require"]],"start1":31,"start2":31,"length1":16,"length2":17}]],"length":8546,"saved":false}
{"ts":1373391272541,"patch":[[{"diffs":[[0,"uires('i"],[1,"kimv"],[0,"mpact.en"]],"start1":44,"start2":44,"length1":16,"length2":20}]],"length":8550,"saved":false}
{"ts":1373391277280,"patch":[[{"diffs":[[0,"s('i"],[-1,"kimv"],[0,"mpac"]],"start1":48,"start2":48,"length1":12,"length2":8}]],"length":8546,"saved":false}
{"ts":1373391280804,"patch":[[{"diffs":[[0,"equires("],[1,"\n    "],[0,"'impact."]],"start1":42,"start2":42,"length1":16,"length2":21}]],"length":8551,"saved":false}
{"ts":1373391283453,"patch":[[{"diffs":[[0,".entity'"],[1,"\n"],[0,").define"]],"start1":62,"start2":62,"length1":16,"length2":17}]],"length":8552,"saved":false}
{"ts":1373391285868,"patch":[[{"diffs":[[0,"ntity'\n)"],[1,"\n"],[0,".defines"]],"start1":64,"start2":64,"length1":16,"length2":17}]],"length":8553,"saved":false}
{"ts":1373393001540,"patch":[[{"diffs":[[0,"ealth: 200,\n"],[1,"        walf\n"],[0,"        init"]],"start1":450,"start2":450,"length1":24,"length2":37}]],"length":8566,"saved":false}
{"ts":1373393002514,"patch":[[{"diffs":[[0,"     wal"],[-1,"f"],[1,"k"],[0,"\n       "]],"start1":465,"start2":465,"length1":17,"length2":17}]],"length":8566,"saved":false}
{"ts":1373393003428,"patch":[[{"diffs":[[0,"    walk"],[1,": "],[0,"\n       "]],"start1":466,"start2":466,"length1":16,"length2":18}]],"length":8568,"saved":false}
{"ts":1373393004260,"patch":[[{"diffs":[[0,"  walk: "],[1,"ne"],[0,"\n       "]],"start1":468,"start2":468,"length1":16,"length2":18}]],"length":8570,"saved":false}
{"ts":1373393005991,"patch":[[{"diffs":[[0,"walk: ne"],[1,"w ig."],[0,"\n       "]],"start1":470,"start2":470,"length1":16,"length2":21}]],"length":8575,"saved":false}
{"ts":1373393008431,"patch":[[{"diffs":[[0," new ig."],[1,"Sound"],[0,"\n       "]],"start1":475,"start2":475,"length1":16,"length2":21}]],"length":8580,"saved":false}
{"ts":1373393013632,"patch":[[{"diffs":[[0,"ig.Sound"],[1,"()"],[0,"\n       "]],"start1":480,"start2":480,"length1":16,"length2":18}]],"length":8582,"saved":false}
{"ts":1373393015115,"patch":[[{"diffs":[[0,"g.Sound("],[1,"'m'"],[0,")\n      "]],"start1":481,"start2":481,"length1":16,"length2":19}]],"length":8585,"saved":false}
{"ts":1373393017867,"patch":[[{"diffs":[[0,"Sound('m"],[1,"edia"],[0,"')\n     "]],"start1":483,"start2":483,"length1":16,"length2":20}]],"length":8589,"saved":false}
{"ts":1373393023190,"patch":[[{"diffs":[[0,"d('media"],[1,"/wa"],[0,"')\n     "]],"start1":487,"start2":487,"length1":16,"length2":19}]],"length":8592,"saved":false}
{"ts":1373393025639,"patch":[[{"diffs":[[0,"media/wa"],[1,"lk.ogg"],[0,"')\n     "]],"start1":490,"start2":490,"length1":16,"length2":22}]],"length":8598,"saved":false}
{"ts":1373393027037,"patch":[[{"diffs":[[0,"lk.ogg')"],[1,","],[0,"\n       "]],"start1":498,"start2":498,"length1":16,"length2":17}]],"length":8599,"saved":false}
{"ts":1373393041358,"patch":[[{"diffs":[[0,"e('right')) "],[1,"{"],[0,"this.moveInt"]],"start1":2182,"start2":2182,"length1":24,"length2":25}]],"length":8600,"saved":false}
{"ts":1373393044250,"patch":[[{"diffs":[[0,"e.RIGHT;"],[1,"}"],[0,"\n       "]],"start1":2223,"start2":2223,"length1":16,"length2":17}]],"length":8601,"saved":false}
{"ts":1373393049606,"patch":[[{"diffs":[[0,"te('left')) "],[1,"{"],[0,"this.moveInt"]],"start1":2266,"start2":2266,"length1":24,"length2":25}]],"length":8602,"saved":false}
{"ts":1373393051429,"patch":[[{"diffs":[[0,"pe.LEFT;"],[1,"}"],[0,"\n       "]],"start1":2306,"start2":2306,"length1":16,"length2":17}]],"length":8603,"saved":false}
{"ts":1373393053111,"patch":[[{"diffs":[[0,"Type.UP;"],[1,"}"],[0,"\n       "]],"start1":2384,"start2":2384,"length1":16,"length2":17}]],"length":8604,"saved":false}
{"ts":1373393054979,"patch":[[{"diffs":[[0,"pe.DOWN;"],[1,"}"],[0,"\n\n      "]],"start1":2466,"start2":2466,"length1":16,"length2":17}]],"length":8605,"saved":false}
{"ts":1373393057544,"patch":[[{"diffs":[[0,"tate('up')) "],[1,"{"],[0,"this.moveInt"]],"start1":2347,"start2":2347,"length1":24,"length2":25}]],"length":8606,"saved":false}
{"ts":1373393059963,"patch":[[{"diffs":[[0,"'down'))"],[1," {\n               "],[0," this.mo"]],"start1":2431,"start2":2431,"length1":16,"length2":34}]],"length":8624,"saved":false}
{"ts":1373393062669,"patch":[[{"diffs":[[0,"ate('up')) {"],[1,"\n                "],[0,"this.moveInt"]],"start1":2348,"start2":2348,"length1":24,"length2":41}]],"length":8641,"saved":false}
{"ts":1373393064425,"patch":[[{"diffs":[[0,"e('left')) {"],[1,"\n                "],[0,"this.moveInt"]],"start1":2267,"start2":2267,"length1":24,"length2":41}]],"length":8658,"saved":false}
{"ts":1373393066739,"patch":[[{"diffs":[[0,"ght')) {"],[1,"\n                "],[0,"this.mov"]],"start1":2187,"start2":2187,"length1":16,"length2":33}]],"length":8675,"saved":false}
{"ts":1373393069134,"patch":[[{"diffs":[[0,"e.RIGHT;"],[1,"\n                "],[0,"}\n      "]],"start1":2240,"start2":2240,"length1":16,"length2":33}]],"length":8692,"saved":false}
{"ts":1373393071361,"patch":[[{"diffs":[[0,"pe.LEFT;"],[1,"\n                \\\n                "],[0,"}\n      "]],"start1":2357,"start2":2357,"length1":16,"length2":51}]],"length":8727,"saved":false}
{"ts":1373393072726,"patch":[[{"diffs":[[0,"      \\\n"],[-1,"            "],[0,"    }\n  "]],"start1":2376,"start2":2376,"length1":28,"length2":16}]],"length":8715,"saved":false}
{"ts":1373393075169,"patch":[[{"diffs":[[0,"    "],[-1,"    \\\n"],[0,"    "]],"start1":2374,"start2":2374,"length1":14,"length2":8}]],"length":8709,"saved":false}
{"ts":1373393077926,"patch":[[{"diffs":[[0,"Type.UP;"],[1,"\n                "],[0,"}\n      "]],"start1":2470,"start2":2470,"length1":16,"length2":33}]],"length":8726,"saved":false}
{"ts":1373393079446,"patch":[[{"diffs":[[0,"pe.DOWN;"],[1,"\n                "],[0,"}\n\n     "]],"start1":2587,"start2":2587,"length1":16,"length2":33}]],"length":8743,"saved":false}
{"ts":1373393089085,"patch":[[{"diffs":[[0,"                "],[1,"this."],[0,"}\n"],[-1,""],[0,"            else"]],"start1":2249,"start2":2249,"length1":34,"length2":39},{"diffs":[[0,"                "],[1,"this."],[0,"}\n            el"]],"start1":2371,"start2":2371,"length1":32,"length2":37},{"diffs":[[0,"                "],[1,"this."],[0,"}\n            el"]],"start1":2489,"start2":2489,"length1":32,"length2":37},{"diffs":[[0,"e.DOWN;\n"],[-1,""],[0,"        "]],"start1":2603,"start2":2603,"length1":16,"length2":16},{"diffs":[[0,"            "],[1,"this."],[0,"}\n\n         "]],"start1":2615,"start2":2615,"length1":24,"length2":29}]],"length":8763,"saved":false}
{"ts":1373393093524,"patch":[[{"diffs":[[0,"           this."],[1,"walk.play()"],[0,"}\n"],[-1,""],[0,"            else"]],"start1":2254,"start2":2254,"length1":34,"length2":45},{"diffs":[[0,"           this."],[1,"walk.play()"],[0,"}\n            el"]],"start1":2387,"start2":2387,"length1":32,"length2":43},{"diffs":[[0,"   this."],[1,"walk.play()"],[0,"}\n      "]],"start1":2524,"start2":2524,"length1":16,"length2":27},{"diffs":[[0,"e.DOWN;\n"],[-1,""],[0,"        "]],"start1":2636,"start2":2636,"length1":16,"length2":16},{"diffs":[[0,"   this."],[1,"walk.play()"],[0,"}\n\n     "]],"start1":2657,"start2":2657,"length1":16,"length2":27}]],"length":8807,"saved":false}
{"ts":1373393111850,"patch":[[{"diffs":[[0,"k.play()"],[1,"\n                \n                "],[0,"}\n\n     "]],"start1":2668,"start2":2668,"length1":16,"length2":50}]],"length":8841,"saved":false}
{"ts":1373393114275,"patch":[[{"diffs":[[0,"y()\n"],[-1,"                \n"],[0,"    "]],"start1":2673,"start2":2673,"length1":25,"length2":8}]],"length":8824,"saved":false}
{"ts":1373393121495,"patch":[[{"diffs":[[0,"            "],[-1,"    "],[0,"}\n\n         "]],"start1":2677,"start2":2677,"length1":28,"length2":24}]],"length":8820,"saved":false}
{"ts":1373393124793,"patch":[[{"diffs":[[0,"this.walk.play()"],[1,"\n                \n                "],[0,"}\n            el"]],"start1":2527,"start2":2527,"length1":32,"length2":66}]],"length":8854,"saved":false}
{"ts":1373393126196,"patch":[[{"diffs":[[0,"y()\n"],[-1,"                \n"],[0,"    "]],"start1":2540,"start2":2540,"length1":25,"length2":8}]],"length":8837,"saved":false}
{"ts":1373393128755,"patch":[[{"diffs":[[0,"y()\n            "],[-1,"    "],[0,"}\n            el"]],"start1":2540,"start2":2540,"length1":36,"length2":32}]],"length":8833,"saved":false}
{"ts":1373393130887,"patch":[[{"diffs":[[0,"this.walk.play()"],[1,"\n                \n                "],[0,"}\n            el"]],"start1":2398,"start2":2398,"length1":32,"length2":66}]],"length":8867,"saved":false}
{"ts":1373393132144,"patch":[[{"diffs":[[0,"y()\n"],[-1,"                \n"],[0,"    "]],"start1":2411,"start2":2411,"length1":25,"length2":8}]],"length":8850,"saved":false}
{"ts":1373393134214,"patch":[[{"diffs":[[0,"y()\n            "],[-1,"    "],[0,"}\n            el"]],"start1":2411,"start2":2411,"length1":36,"length2":32}]],"length":8846,"saved":false}
{"ts":1373393136428,"patch":[[{"diffs":[[0,"k.play()"],[1,"\n                \n                "],[0,"}\n      "]],"start1":2273,"start2":2273,"length1":16,"length2":50}]],"length":8880,"saved":false}
{"ts":1373393139286,"patch":[[{"diffs":[[0,"y()\n"],[-1,"                \n"],[0,"    "]],"start1":2278,"start2":2278,"length1":25,"length2":8}]],"length":8863,"saved":false}
{"ts":1373393141126,"patch":[[{"diffs":[[0,"y()\n            "],[-1,"    "],[0,"}\n            el"]],"start1":2278,"start2":2278,"length1":36,"length2":32}]],"length":8859,"saved":false}
{"ts":1373393169387,"patch":[[{"diffs":[[0,"HT;\n"],[-1,"                this.walk.play()\n"],[0,"    "]],"start1":2245,"start2":2245,"length1":41,"length2":8},{"diffs":[[0,";\n            }\n"],[1,""],[0,"            else"]],"start1":2247,"start2":2247,"length1":32,"length2":32},{"diffs":[[0,"FT;\n"],[-1,"                this.walk.play()\n"],[0,"    "]],"start1":2358,"start2":2358,"length1":41,"length2":8},{"diffs":[[0,"UP;\n"],[-1,"                this.walk.play()\n"],[0,"    "]],"start1":2467,"start2":2467,"length1":41,"length2":8},{"diffs":[[0,"('down')) {\n"],[1,""],[0,"            "]],"start1":2520,"start2":2520,"length1":24,"length2":24},{"diffs":[[0,"WN;\n"],[-1,"                this.walk.play()\n"],[0,"    "]],"start1":2580,"start2":2580,"length1":41,"length2":8}]],"length":8727,"saved":false}
{"ts":1373405804530,"patch":[[{"diffs":[[0,"eed;\n        },\n"],[1,"        kill"],[0,"\n        update:"]],"start1":1722,"start2":1722,"length1":32,"length2":44}]],"length":8739,"saved":false}
{"ts":1373405924659,"patch":[[{"diffs":[[0,"    kill"],[1,": function () {\n            ig.game.removeLight(this.light)\n        },"],[0,"\n       "]],"start1":1742,"start2":1742,"length1":16,"length2":86}]],"length":8809,"saved":false}
{"ts":1373405937699,"patch":[[{"diffs":[[0,".light)\n"],[1,"            this.par\n"],[0,"        "]],"start1":1802,"start2":1802,"length1":16,"length2":37}]],"length":8830,"saved":false}
{"ts":1373405939473,"patch":[[{"diffs":[[0,"this.par"],[1,"ent*"],[0,"\n       "]],"start1":1822,"start2":1822,"length1":16,"length2":20}]],"length":8834,"saved":false}
{"ts":1373405940279,"patch":[[{"diffs":[[0,"s.parent"],[-1,"*"],[0,"\n       "]],"start1":1825,"start2":1825,"length1":17,"length2":16}]],"length":8833,"saved":false}
{"ts":1373405941185,"patch":[[{"diffs":[[0,"s.parent"],[1,"()"],[0,"\n       "]],"start1":1825,"start2":1825,"length1":16,"length2":18}]],"length":8835,"saved":false}
{"ts":1373406211041,"patch":[[{"diffs":[[0,"ig.game."],[1,"lightManager."],[0,"removeLi"]],"start1":1778,"start2":1778,"length1":16,"length2":29}]],"length":8848,"saved":false}
{"ts":1373406311373,"patch":[[{"diffs":[[0,"health: "],[-1,"2"],[1,"1"],[0,"00,\n    "]],"start1":449,"start2":449,"length1":17,"length2":17}]],"length":8848,"saved":false}
{"ts":1373406314887,"patch":[[{"diffs":[[0," speed: "],[-1,"1"],[1,"2"],[0,"00,\n    "]],"start1":206,"start2":206,"length1":17,"length2":17}]],"length":8848,"saved":false}
